
### 1. DNS 조회
유저는 웹 브라우저의 IP주소를 얻기위해 DNS서버에 요청을 보낸다.
DNS서버에 요청을 보내게 되면 서버는 데이터베이스를 검색하거나 다른 DNS서버에 연결해 해당 도메인 이름과 연결된IP주소를 찾아 응답한다. 최초의 요청이후 IP는 일정기간동안 캐시된다.
DNS서버에 재요청을 하는 대신 캐시에서 IP 주소를 검색해 요청속도를 높인다!

### 2. TCP 핸드셰이크 
IP주소를 얻은 후에는, 서버와 TCP 핸드셰이크를 통해 연결을 설정한다.
이 방식은 데이터를 전송하기전에 통신하려는 브라우저와 웹 서버가 TCP소켓연결을 위한 매개변수를 주고 받을 수 있도록 만들어졌다.

### 3. TLS 협상(TLS Negotiation)

### 4. 응답( Response )
웹 서버로 한 번 연결이 되고 나면 브라우저는 유저 대신에 초기 HTTP request(GET)를 보낸다. 보통 HTML파일을 요청하며, 서버가 요청을 받으면 관련 응답 해더와 함께 html의 내용을 응답하게 된다.

### 5. 파싱(Parsing)
브라우저가 첫 번째 데이터의 청크를 받으면, 구문을 분석하기 시작한다.
파싱은 브라우저가 네트워크를 통해 받은 데이터를 DOM이나 CSSOM으로 바꾸는 단계다.

브라우저는 마크업을 내부적으로 DOM으로 표현한다.
DOM은 공개되어있고 js의 다양한 API를 통해 조작이 가능하다.

### 6. DOM트리 구축
가장 첫 단계로 메인 스레드에서 HTML을 브라우저가 해석할 수 있는 자료구조인 DOM Tree로 변환하는 작업이 진행된다. 이 과정은 HTML 파서가 `<link>` 또는 `async`, `defer` 가 없는 `<script>` 와 같은 블로킹 리소스를 만나기 전까지 진행된다.

CSS 파일의 경우 [스타일링이 적용되지 않는 콘텐츠가 잠깐 뜨는 현상(Flash of unstyled content](https://ko.wikipedia.org/wiki/FOUC)을 방지하기 위해 파싱과 렌더링이 차단된다.

`<script>`태그도 DOM을 변경하는 코드(`document.write()`)를 포함할 수 있기 때문에 파싱을 멈춘다.

파싱이 중단됨으로 인해 중요한 리소스 사용이 늦어지는 등 부작용이 생길 수 있는데, 브라우저에서는 이러한 문제를 완하시키기 위해 preload scanner를 사용해서 필요한 요청을 병렬적으로 처리할 수 있다.
