# JWT(Json web Token)
웹에서 사용되는 JSON형식의 토큰에 대한 표준 규격이다.  
주로 사용자의 인증/인가 정보를 서버와 클라이언트 간에 안전하게 주고 받기 위해서 사용된다.  
  
필요한 모든 정보를 한 객체에 담아서 전달하기 때문에 JWT 한가지로 모든 인증을 마칠 수 있다.  

## JWT의 구조
```
HEADER . PAYLOAD . SIGNATURE
 헤더      내용       서명
```
`.(dot)`을 구분자로 하여 JWT 토큰 1개를 이룬다.

첫번째 부분인 헤더(Header)에는 `토큰의 유형과 서명 알고리즘에 명시`되고  
중간부분인 페이로드(Payload)에는 소위 claim이라고도 부르는 `사용자의 인증/인가 정보`가 담긴다.  
마지막 부분인 서명(signature)에는 헤더와 페이로드가 `비밀키로 서명되어 저장`된다.  
  
JWT토큰은 네트워크로 전송되야 하기 때문에 공간을 작게 차지하는게 유리하다.  
그래서 JSON형식으로 저장할 때 key를 3글자로 줄이는 관행이 있다.  
  
전형적인 JWT토큰 디코딩 결과.
```json
Header
{
    "alg": "HS256",
    "typ": "JWT"
}
```
```json
payload
{
    "sub": "1234567890",
    "lat": 1516239022
}
```  
  
JWT에서 자주 사용되는 JSON 키 이름은 다음과 같다.  
+ sub 키: 인증 주체(subject)
+ iss 키: 토큰 발급처
+ typ 키: 토큰의 유형(type)
+ alg 키: 서명 알고리즘(algorithm)
+ iat 키: 발급 시각(issued at)
+ exp 키: 만료 시작(expiration time)
+ aud 키: 클라이언트(audience)

## JWT의 장점
JWT는 토큰 자체에 사용자의 정보가 저장되어 있어있기 때문에 서버 입장에서 토큰을 검증만 해주면 된다.  
반면에 쿠키와 세션을 사용할 때는 서버 단에 로그인한 모든 사용자의 세션을 DB나 캐시(cache)에 저장해놓고 쿠키로 넘어온 세션 ID로 사용자 데이터를 매번 조회해야만 한다.  

뿐만 아니라 쿠키를 사용하지 않으므로 CORS 문제에서 자유로워진다는 것도 장점으로 여겨질 수 있다.  